//tealium universal tag - utag.767 ut4.0.201909261334, Copyright 2019 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
(function(global,d,w){if(!d||!w)return false;var sendEvent=function(event,keys,actionOrValue){if(!window.hasOwnProperty("analLib"))return;var s=s_gi(analLib.getSiteId());if(s===null)return;s.linkTrackVars=event.key+',events';s.linkTrackEvents=event.key;s.events=event.key;s[event.key]=event.value;s.tl(true,"o",actionOrValue);console.log(s);s.events=null;return true;}
var generateTemplate=function generateTemplate(term){if(term.role==="free-courses"){return"<div class=\"ci-advert-container\" data-ci-media=\"ci-advert-desktop\">\n                <style>\n                    .job-results .ci-advert-job {\n                        position: relative;\n                        padding-bottom: 12px;\n                    }\n                    .ci-image-override {\n                        position: static;\n                        overflow: hidden;\n                    }\n                    .ci-job-content {\n                        position: relative;\n                        z-index: 1;\n                    }\n                    .ci-highlight{font-size:17px;background:#f49308;padding:5px 6px;color:#fff;border-radius:4px;font-weight:700; display: inline-block;}\n\t\t\t\t\t.ci-highlight .ci-role{text-transform: capitalize;}\n                    .ci-job-intro{font-size:15px;line-height:24px}\n                    .ci-tjg-normal{color:#454545;text-decoration:none}\n                    .ci-job-title{margin-bottom:12px}\n                    .ci-link:hover h2{text-decoration:underline}\n                    .ci-link:hover h2 > span {text-decoration:none; }\n                </style>\n\n                <a href=\"https://www.totaljobs.com/courses/search-results?keyword=free-courses&amp;INHSE=Courses_FreeAd_CourseResults_CW&amp;type=title\" class=\"ci-link ci-advert\">\n                    <div class=\"job ci-advert-job\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-12\">\n                                <div class=\"row\">\n                                    <div class=\"ci-job-content col-xs-12 col-sm-12 col-md-12\">\n                                        <div class=\"job-title ci-job-title\">\n                                            <h2><span class=\"ci-highlight\">Broaden your horizons with a FREE course</span></h2>\n                                        </div>\n                                        <p class=\"ci-job-intro ci-tjg-normal\">Brush up your skills with a FREE course and increase your chances of getting hired. Take a FREE course today.</p>\n                                        <div class=\"row\">\n                                            <div class=\"col-sm-12 col-md-12\">\n                                                <button class=\"btn btn-primary\">Get started</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n            </div>";}
var role=term.role;var roleHTML="<span class=\"ci-role\">".concat(role,"</span>");var type=term.type;var template="\n            <div class=\"ci-advert-container\" data-ci-media>\n                <style>\n                    .job-results .ci-advert-job {\n                        position: relative;\n                        padding-bottom: 12px;\n                    }\n                    .ci-image-override {\n                        position: static;\n                        overflow: hidden;\n                    }\n                    .ci-job-content {\n                        position: relative;\n                        z-index: 1;\n                    }\n                    .ci-highlight{font-size:17px;background:#f49308;padding:5px 6px;color:#fff;border-radius:4px;font-weight:700; display: inline-block;}\n\t\t\t\t\t.ci-highlight .ci-role{text-transform: capitalize;}\n                    .ci-job-intro{font-size:15px;line-height:24px}\n                    .ci-tjg-normal{color:#454545;text-decoration:none}\n                    .ci-job-title{margin-bottom:12px}\n                    .ci-link:hover h2{text-decoration:underline}\n                    .ci-link:hover h2 > span {text-decoration:none; }\n                </style>\n\n                <a href=\"https://www.totaljobs.com/courses/search-results?keyword=".concat(role&&role,"&INHSE=Courses_DynamicAd_CourseResults_CW&type=").concat(type,"\" class=\"ci-link ci-advert\">\n                    <div class=\"job ci-advert-job\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-12\">\n                                <div class=\"row\">\n                                    <div class=\"ci-job-content col-xs-12 col-sm-12 col-md-12\">\n                                        <div class=\"job-title ci-job-title\">\n                                            <h2>").concat(role&&"<span class=\"ci-highlight\">Recommended courses for ".concat(role&&type==='title'&&"a ".concat(roleHTML)||"".concat(roleHTML," skills"),"</span>"),"</h2>\n                                        </div>\n                                        <p class=\"ci-job-intro ci-tjg-normal\">Succeed in interviews thanks to new qualifications. Stand out from the crowd! Try one of our courses today</p>\n                                        <div class=\"row\">\n                                            <div class=\"col-sm-12 col-md-12\">\n                                                <button class=\"btn btn-primary\">Get started</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n        ");return template;};var domNode=d.querySelectorAll('.job');if(!domNode.length)return false;var nodeList=Array.prototype.slice.apply(domNode);var createAd=function createAd(data,insertAtIndex){var term=data.role
var adIndex=nodeList.length<=insertAtIndex?insertAtIndex=nodeList.length&&nodeList.length-1||0:insertAtIndex-1;return nodeList.map(function(node,index){if(index===adIndex){node.insertAdjacentHTML('afterend',generateTemplate(data));sendEvent({key:'event850',value:1},{},term);return d.querySelector('.ci-advert-container');}}).filter(function(el){return!!el;});};var blacklistTerms=["MALDI-TOF","LiDAR"];var requestType=function requestType(role,cb){if(!window.jQuery)return;return jQuery.post('/jsr/api/autosuggest/keyword',{MaxResults:1,value:role}).done(function(data){if(data&&data.Results.length<=0)return;var type=data.Results[0].Type;var title=data.Results[0].DisplayString;var isBadTitle=blacklistTerms.some(term=>term===title);if(isBadTitle){title=role;}
return cb({role:title,type:type==='JOB TITLE'?'title':'skill'});});};function initAD(data){var __ADVERT__=createAd(data,5);w.addEventListener('__BREAKPOINT__CHANGED__',function(event){switch(event.detail.breakpoint){case'mobile':case'mobile-landscape':case'tablet-portrait':__ADVERT__[0].setAttribute('data-ci-media','ci-advert-mobile');break;default:__ADVERT__[0].setAttribute('data-ci-media','ci-advert-desktop');break;}},false);}
function init(){var searchTerm=analytics&&analytics.SearchTerm;if(!searchTerm)return;fetch("https://gateway.totaljobs.com/learninghub/keyword-count/network?keyword="+searchTerm)
.then(function(res){return res.text()})
.then(function(text){return JSON.parse(text)})
.then(function(json){if(json.predictedCourses.courseCount>0){return requestType(searchTerm,initAD);}
initAD({role:"free-courses",type:"title"})})
.catch(function(err){return null;})}
w.addEventListener('DOMContentLoaded',init(),false);})(void 0,document,window);u.loader_cb();}};utag.o[loader].loader.LOAD(id);})("767","axelspringer.stepstone-stepstoneuk");}catch(error){utag.DB(error);}
